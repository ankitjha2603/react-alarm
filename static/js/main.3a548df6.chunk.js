(this["webpackJsonpreact-alarm"]=this["webpackJsonpreact-alarm"]||[]).push([[0],{23:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var c=a(12),n=(a(23),a(5)),i=a(1),r=a(14);function s(e){var t=localStorage.getItem(e);return null===t?(localStorage.setItem(e,"[]"),[]):JSON.parse(t)}function l(e,t){localStorage.setItem(e,JSON.stringify(t))}function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?document.querySelector(e):Object(r.a)(document.querySelectorAll(e))}function d(e){return e<10?"0".concat(e):"".concat(e)}function m(e,t){var a=new Date("01/01/2007 "+t)-new Date("01/01/2007 "+e);a<0&&(a=864e5+a);var c=a/1e3,n=Math.floor(c/60);c%=60;var i=Math.floor(n/60),r=n%60,s=c;return"".concat(d(i),":").concat(d(r),":").concat(d(s))}function j(){o("input",!1).forEach((function(e){"checkbox"===e.type?e.checked=!1:e.value=""}))}function u(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o("#cover").style.display="none",!1===e?(o("#cover").style.display="none",j()):(o("#cover").style.display="flex",o("body").style.overflow="hidden")}function v(){return s("active").map((function(e){return e.time}))}var b=a(13),h=a.n(b),x=a(8),O=a(0);var f=function(e){var t,a="";return"active"===e.viewState&&(a="table-bb-active"),"success"===e.viewState&&(a="table-bb-success"),"missed"===e.viewState&&(a="table-bb-danger"),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("tr",{className:a,children:[Object(O.jsx)("th",{scope:"row",children:e.sno}),Object(O.jsx)("td",{children:(t=e.name,t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})))}),Object(O.jsx)("td",{className:"digital",children:e.time}),"active"===e.viewState?Object(O.jsx)("td",{className:"digital",children:e.rtime}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("td",{children:e.repeat}),Object(O.jsx)("td",{className:"dAlarm",onClick:function(){return function(e){var t=s(e.viewState);t.splice(e.sno-1,1),l(e.viewState,t),e.viewStateChanger(e.viewState)}(e)},children:"Delete"})]})})};a(46);function w(e){var t=s(e.viewState);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"table-responsive",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"#"}),Object(O.jsx)("th",{scope:"col",children:"Name"}),Object(O.jsx)("th",{scope:"col",children:"Title"}),"active"===e.viewState?Object(O.jsx)("th",{scope:"col",children:"Remaing Time"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("th",{scope:"col",children:"Repeat"}),Object(O.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(O.jsx)("tbody",{children:t.map((function(t,a){var c={sno:"".concat(a+1),name:"".concat(t.name),time:"".concat(t.time),repeat:"".concat(t.repeat),rtime:m(e.currentTime,t.time)};return Object(O.jsx)(f,Object(x.a)(Object(x.a)({},c),{},{viewState:e.viewState,viewStateChanger:e.viewStateChanger}))}))})]})})})}a(47);function S(e){return Object(O.jsx)("div",{className:"full-screen-center vertical-center",children:Object(O.jsxs)("form",{className:"add-element pop-up",onSubmit:function(t){t.preventDefault();var a=document.getElementById("add-alarm-name").value,c=document.getElementById("add-alarm-time").value,n=document.getElementById("add-alarm-repeat").value,i=JSON.parse(localStorage.getItem("active"));v().includes(c)?alert("Alarm already Exist"):(i[i.length]={name:a,time:c,repeat:n},localStorage.setItem("active",JSON.stringify(i))),u(!1),e.viewStateChanger(e.viewState),e.isAlarmAddState(!1)},children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{className:"form-control",id:"add-alarm-name",type:"text",required:!0}),Object(O.jsx)("label",{children:"Time"}),Object(O.jsx)("input",{className:"form-control",type:"time",id:"add-alarm-time",required:!0}),Object(O.jsx)("label",{children:"Repeat"}),Object(O.jsxs)("select",{className:"form-control",id:"add-alarm-repeat",children:[Object(O.jsx)("option",{value:"once",children:"Once"}),Object(O.jsx)("option",{value:"everyday",children:"Everyday"})]}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("button",{type:"submit",className:"btn add-alarm-buttons",id:"add-alarm-submit",children:"Add alarm"}),Object(O.jsx)("button",{className:"btn add-alarm-buttons",id:"cancel-alarm-submit",onClick:function(){u(!1),e.isAlarmAddState(!1)},children:"cancel"})]})]})})}a(48);function p(e){return Object(O.jsx)("div",{className:"full-screen-center",children:Object(O.jsxs)("div",{className:"alarm-notification",children:[Object(O.jsx)("div",{className:"alarm-notification-text",children:e.text}),Object(O.jsx)("div",{className:"alarm-notification-button",onClick:function(){e.alarmToNext("success",(new Date).toTimeString().slice(0,5)),e.alarmnotificationState({show:!1,text:e.alarmnotification.text}),u(!1)},children:"Done"})]})})}a(49);function g(e){return Object(O.jsxs)("div",{className:"viewStateSwap",children:[Object(O.jsx)("div",{name:"view-active",className:"active"===e.view?"view-state  selected-state":"view-state",onClick:function(){return e.viewStateChanger("active")},children:"Active"}),Object(O.jsx)("div",{name:"view-success",className:"success"===e.view?"view-state selected-state":"view-state",onClick:function(){return e.viewStateChanger("success")},children:"Success"}),Object(O.jsx)("div",{name:"view-missed",className:"missed"===e.view?"view-state selected-state":"view-state",onClick:function(){return e.viewStateChanger("missed")},children:"Missed"})]})}var N=void 0,y=void 0;function C(){var e=Object(i.useState)({show:!1,text:""}),t=Object(n.a)(e,2),a=t[0],c=t[1],r=Object(i.useState)("active"),o=Object(n.a)(r,2),d=o[0],m=o[1],j=Object(i.useState)(!1),b=Object(n.a)(j,2),x=b[0],f=b[1],C=Object(i.useState)((new Date).toTimeString().slice(0,5)),k=Object(n.a)(C,2),A=k[0],T=k[1],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1?arguments[1]:void 0,a=s("active"),c=s(e),n=a.findIndex((function(e){return e.time===t})),i=a.splice(n,1)[0];y=i.time,"once"===i.repeat&&l("active",a),c[c.length]=i,l(e,c),m(d),N=void 0};setInterval((function(){var e=(new Date).toTimeString().slice(0,5);if(T((new Date).toTimeString().slice(0,8)),y===e)return 0;if(y=void 0,void 0===N&&v().includes(e)){var t=s("active").filter((function(t){return t.time===e}))[0].name;c({show:!0,text:t}),f(!1),N=e,u(!0)}else void 0===N||v().includes(e)||(c({show:!1,text:""}),u(!1),D("missed",N))}),1e3);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{hidden:!0,children:Object(O.jsx)(h.a,{url:"alarm.mp3",playing:a.show,volume:1,loop:!0})}),Object(O.jsx)(g,{view:d,viewStateChanger:m}),a.show?Object(O.jsx)(p,{text:a.text,alarmToNext:D,alarmnotificationState:c,alarmnotification:a}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("button",{className:"add-alarm-button btn",onClick:function(){f(!0),u(!0)},children:"+"}),x?Object(O.jsx)(S,{isAlarmAddState:f,viewState:d,viewStateChanger:m}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w,{viewState:d,viewStateChanger:m,currentTime:A})]})}var k=o("#ankitjha2603");Object(c.createRoot)(k).render(Object(O.jsx)(C,{}))}},[[50,1,2]]]);
//# sourceMappingURL=main.3a548df6.chunk.js.map